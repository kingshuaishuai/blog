---
title: 一个前端的java后端之旅(三) 接口的意义
---

![enter description here](https://www.github.com/kingshuaishuai/static_resource/raw/master/assets/1581729607349.png)

距离写完上一篇文章已经有很长一段时间了，这段时间刚开始比较忙，后来就过年，出现疫情，在家懒了几天，也看了一些java书籍或网络资料中关于interface的介绍与讲解，但是仍然没有get到自己想要点。

我不想满足于知道接口是如何定义的，是用来被类实现的，我想知道为什么要用接口，一段代码我认为很稳定了我为什么还要违心的再去写一个接口，我不想以后假如我从事后端java，就像一个机器一样，每次一个需求来临，我就机械化的定义接口，定义类，why？为什么要这样？这篇文章便来探讨一下（也是看了三遍慕课网七月老师的java全栈课才解决了自己的困惑，当然也是基于学习这门课自己没基础才来学习分享这些东西的）。

## 类不够用吗 为什么要加入接口？
上篇文章中简单说了面向对象的东西，其中有个核心便是类（`class`），类是对于对象的抽象，我们可以将某一类的事物用类来描述，然后通过实例化的方式生产对象，这已经是一层抽象了，这还不足够用来表达我们的程序逻辑嘛？

当然不够，如果够了怎么会有接口(`interface`)的出现。java语言之所以庞大，写起来也不够动态语言简洁，它能实现的东西动态语言也能实现，但它为什么能经久不衰，在企业实现大型项目时也是首选，这就要说到它的稳定性，它不是为了追求时尚而生的，而是为了追求稳定，为此新java版本也放弃了很多新的特性，大型项目的稳定性也是最重要的，因此java的追求也正是大型项目的追求。

但java如何实现稳定性，首先它的语言每次版本变化后语法的变更并不会很大，其次java作为一种静态语言，在编码过程中通过静态检查也可以直接避免语法层面的错误，由于其反射机制，idea，eclipse等编辑器也做的非常智能，各种错误提示，自动导入类，同步修改类名等都非常精确。

而且对于java的学习并不是简单的语法学习，因为java也并不是简单的语法堆积，其中必要的设计模式和软件工程相关知识也是我们必须学习的。在java世界里，OCP(开闭原则)是一个最基础的原则，它能够引导我们创建一个稳定、灵活的系统。

开闭原则的定义为：Software entities like classes,modules and functions should be open for extension but closed for modifications.（一个软件实体如类，模块和函数应该对扩展开放，对修改封闭）

其最重要的内容便是`对扩展开放，对修改封闭`。在java代码的书写过程中，我们便要严格遵循这个规则，为了更好地实现OCP，引入`interface`的概念是必要的，在当前java中最为火热的概念中ICO，DI等（IOC实现了DI）一大部分目的也是为了更好地实现`OCP`，其中`interface`便扮演着及其重要的角色。

因此对于本小节题目中的问题而言，为什么要引入接口，因为它可以在一定程度上帮我们提高java代码的稳定性，在java追求OCP的过程中扮演了很重要的角色。

## 一个例子来看接口如何帮我们提升代码稳定性

如果说我定义了一个接口`A`

``` java
public interface A {
    xxxxx
}
```

在实现自己业务逻辑的时候我有两个类需要传入A类型的对象

``` java
public class MyFunction1 {
    A a;
    
    public setA(A a) {
        this.a = a;
    }
}

public class MyFunction2 {
    A a;
    
    public setA(A a) {
        this.a = a;
    }
}
```
假设`MyFunction1`和`MyFunction2`是我实现具体业务逻辑的代码，它们都依赖了`A`类型的数据，如果`A`是个类，在`MyFunction1`中A有部分`方法`的逻辑需要重新修改，而`MyFunction2`中需要保持不变，这改如何做，修改类`A`中的代码势必导致`MyFunction1`或者`MyFunction2`至少有一个代码也需要改变，一处改变会导致另外一处代码也跟着改变，这些修改有写不符合OCP原则了，使得多处代码都变得不够稳定。

如果此时就像我们上面定义的A是个接口`interface`，那我可以对应实现一个`impA`,在后面升级时`MyFunction1`中有部分业务逻辑需要修改，我可以直接在写一个`impA1`,在`setA`方法中传入`impA1`的实例就可以了，`MyFunction1`中的代码的方法调用也不用更改，此时也正满足了`OCP`原则`扩展开放，修改封闭`，对`impA`类也没有修改。此时代码由于修改而导致新bug的可能性也降低很多，便保证了代码的稳定性，在未来进行代码的维护上也很方便。

## 接口的使用场景
尽管我自己是个没学过java的人，但想想去年毕设时候我的项目后端也是java写的，写的一脸懵逼，不过大致知道了项目中写java类之前需要定义接口，然后再写实现接口的类，为什么要这样写，如果直接写类可以吗？当然可以，但是此时我便可以清楚地知道为什么要有这么一层接口。

为了之后项目升级维护的方便性，我们需要使用接口，然后写类，尽管可能这个接口只会在一处被用到，如果写代码时候我们确定某些代码一定不会有更改，还是建议使用接口，编程这种事，谁能确定些什么啊，先写接口再写实现类也是一种防御性编程，是一种优秀的习惯，不是你觉得不会变就要按照类的方式写。

## 接口语法层面的细节
前面啰啰嗦嗦地说了很多，但其实并没有什么关于`interface`语法层面的东西，但是有了这些啰里啰嗦的铺垫，相信基于对`interface`的这个认识现在来学习它应该会有不同的感觉（懂了原理，我们就缺语法层面的用法了）。
